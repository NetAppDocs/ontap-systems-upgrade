---
sidebar: sidebar
permalink: upgrade-arl-auto/install_boot_node3.html
keywords: install, boot, node3 relocation, nodes, V-series, storage disks
summary: "Install and boot node3 and install ONTAP software when upgrading controllers running ONTAP 9.5 to 9.7 by using `system controller replace` commands."
---
= Install and boot node3
:hardbreaks:
:nofooter:
:icons: font
:linkattrs:
:imagesdir: ../media/

[.lead]
include::../_include/ru_auto_install_boot_node3_intro_step_5.adoc[]

[start=6]
.  [[auto9597_istall3_step6]]Configure the netboot connection by choosing one of the following actions.
+
NOTE: You must use the management port and IP as the netboot connection. Do not use a data LIF IP or a data outage might occur while the upgrade is being performed.

+
[cols=2*,options="header"cols="30,70"]
|===
|If Dynamic Host Configuration Protocol (DHCP) is... |Then...

|Running
|Configure the connection automatically by entering the following command at the boot environment prompt:
`ifconfig e0M -auto`
|Not running
a|Manually configure the connection by entering the following command at the boot environment prompt:
`ifconfig e0M -addr=_filer_addr_ -mask=_netmask_ -gw=_gateway_ -dns=_dns_addr_ -domain=_dns_domain_`

`_filer_addr_` is the IP address of the storage system (mandatory). 
`_netmask_` is the network mask of the storage system (mandatory).
`_gateway_` is the gateway for the storage system. (mandatory).
`_dns_addr_` is the IP address of a name server on your network (optional).
`_dns_domain_` is the Domain Name Service (DNS) domain name. If you use this optional parameter, you do not need a fully qualified domain name in the netboot server URL; you need only the server's host name.

NOTE: Other parameters might be necessary for your interface. Enter `help ifconfig` at the firmware prompt for details.
|===

include::../_include/ru_auto_install_boot_node3_step_7_26.adoc[]
[start=22]
[[auto_install3_step22]]
. If you have NetApp Storage Encryption (NSE) drives installed, perform the following steps.
+
NOTE: If you have not already done so earlier in the procedure, see the Knowledge Base article https://kb.netapp.com/onprem/ontap/Hardware/How_to_tell_if_a_drive_is_FIPS_certified[How to tell if a drive is FIPS certified^] to determine the type of self-encrypting drives that are in use.

.. Set `bootarg.storageencryption.support` to `true` or `false`:
+
[cols="35,65"]
|===
|If the following drives are in use…	|Then…

|NSE drives that conform to FIPS 140-2 Level 2 self-encryption requirements
|`setenv bootarg.storageencryption.support *true*`

|NetApp non-FIPS SEDs
|`setenv bootarg.storageencryption.support *false*`

|===
+
[NOTE]
====
You cannot mix FIPS drives with other types of drives on the same node or HA pair.
You can mix SEDs with non-encrypting drives on the same node or HA pair.
====

.. Contact NetApp Support for assistance with restoring the onboard key management information.

. Boot the node into boot menu:
+
`boot_ontap menu`

.What's next?

* If you have a system with an FC or UTA/UTA2 configuration, link:set_fc_or_uta_uta2_config_on_node3.html[set the FC or UTA/UTA2 configuration on node3].

* If you don't have an FC or UTA/UTA2 configuration, link:reassign-node1-disks-to-node3.html#reassign-node1-node3-step1[reassign node1 disks to node3] so that node3 can recognize node1’s disks.

* If you have a MetroCluster configuration, link:reassign-node1-disks-to-node3.html#reassign-node1-node3-step1[reassign node1 disks to node3].

// 2023 APR 17, ontap-systems-upgrade-issues-64/BURT 1519747
// BURT 1476241 2022-05-13

