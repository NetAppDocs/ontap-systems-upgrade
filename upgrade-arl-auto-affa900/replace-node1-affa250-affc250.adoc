---
sidebar: sidebar
permalink: upgrade-arl-auto-affa900/replace-node1-affa250-affc250.html
keywords: aff, asa, fas, replace, node1, system, modules
summary: "Replace the AFF A250 or AFF C250 node1 system modules when using ARL to upgrade controller models in the same chassis."
---
= Replace the AFF A250 or AFF C250 controller modules
:hardbreaks:
:nofooter:
:icons: font
:linkattrs:
:imagesdir: ../media/

[.lead]
At this stage, node1 is down and all data is served by node2. You must take care to remove only the node1 controller module. Typically, node1 is controller A, located on the left side of the chassis when looking at the controllers from the rear of the system. The controller label is located on the chassis directly above the controller module.

CAUTION: Don't power off the chassis because node1 and node2 are in the same chassis and connected to the same power supplies.

== Remove the AFF A250 or AFF C250 controller module
To remove the node1 controller module, you first remove the cable management device, unlock the locking latches, and then remove the controller module from the chassis.

.Before you begin

If you are not already grounded, correctly ground yourself.

.Steps

. Insert your forefinger into the latching mechanism on either side of the controller module, press the lever with your thumb, and gently pull the controller a few inches out of the chassis.
+
NOTE: If you have difficulty removing the controller module, place your index fingers through the finger holes from the inside (by crossing your arms).
+
image:drw_a250_pcm_remove_install.png["Push drive to firmly seat against the chassis midplane"]
+
[cols=2*,cols="20,80"]
|===
a|
image:black_circle_one.png[Number one]
|Lever
a|
image:black_circle_two.png[Number two]
|Latching mechanism
|===
. Go to the rear of the chassis.
. Unplug the node1 controller module power supply from the source.
. Release the power cable retainers, and then unplug the cables from the power supplies for node1.
+
CAUTION: The power connections for node1 and node2 are on top of each other. Take care to only unplug the cables for node1. Unplugging the cables for node1 and node2 could cause a power outage to both nodes in the HA pair.

. Loosen the hook and loop strap binding the cables to the cable management device, and then unplug the system cables and SFP and QSFP modules (if needed) from the controller module, keeping track of where the cables were connected.
+
Leave the cables in the cable management device so that when you reinstall the cable management device, the cables are organized.
. Remove the cable management device from the controller module and set it aside.
. Press down on both of the locking latches, and then rotate both latches downward at the same time.
+
The controller module moves slightly out of the chassis.
. Using both hands, grasp the controller module sides and gently pull it out of the chassis and set it on a flat, stable surface.
+
Make sure that you support the weight of the controller module as you slide it out of the chassis. 

== Install the AFF A30, AFF A50, AFF C30, or AFF C60 controller module
Install, cable, and connect the replacement module in node1.

.Before you begin
Verify that you have an X60132A, 10/25 GbE card in slot1 on node1. The X60132A card is required for cluster interconnect during the upgrade.

.Steps
. Align the end of the controller module with the opening in the chassis, and then gently push the controller module halfway into the system.
+
NOTE: Don't completely insert the controller module in the chassis until instructed to do so later in the procedure.

. Cable the management and console ports to the node1 controller module.
+
NOTE: Because the chassis is already powered ON, node1 starts BIOS initialization followed by AUTOBOOT as soon as you insert the new controller module. To avoid this AUTOBOOT, NetApp recommends connecting the serial and console cables before inserting the controller module. 

. With the cam handle in the open position, firmly push the controller module in until it meets the midplane and is fully seated. The locking latch rises when the controller module is fully seated. Close the cam handle to the locked position.
+
NOTE: To avoid damaging the connectors, don't use excessive force when sliding the controller module into the chassis.

. Connect the serial console as soon as the module is seated and be ready to interrupt AUTOBOOT of node1. 

. After you interrupt AUTOBOOT, node1 stops at the LOADER prompt. 
+
If you do not interrupt AUTOBOOT on time and node1 starts booting, wait for the prompt and press Ctrl-C to go into the boot menu. After the node stops at the boot menu, use option `8` to reboot the node and interrupt AUTOBOOT during reboot.

. At the LOADER> prompt of node1, set the default environment variables:
+
`set-defaults`

. Save the default environment variables settings:
+
`saveenv`

// 2024 DEC 9, AFFFASDOC-33