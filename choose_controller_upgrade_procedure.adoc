---
permalink: choose_controller_upgrade_procedure.html
sidebar: sidebar
keywords: 
summary: In general, how you upgrade the controller hardware depends on the platform models of the original nodes. You upgrade either by moving aggregates or volumes storage (nondisruptive procedures) or by moving storage (a disruptive procedure).
---
= Choose your controller hardware upgrade procedure
:icons: font
:imagesdir: ./media/

[.lead]
In general, how you upgrade the controller hardware depends on the platform models of the original nodes. You upgrade either by relocating aggregates or moving volumes (both nondisruptive procedures), or by moving the storage (a disruptive procedure). If you have different ONTAP versions running on the original and new nodes, you might need to perform a software upgrade before starting the hardware upgrade.

image:workflow_for_choosing_upgrade_procedure.png[Decision workflow for choosing an upgrade procedure]

Learn about the controller hardware upgrade procedures:

* link:upgrade-arl/index.html[Nondisruptive procedure: Upgrade by using aggregate relocation]
+
Aggregate relocation is a replacement procedure. You do not need to expand and shrink your cluster with the new nodes which is beneficial for two-node switchless clusters. Moving data by relocating aggregates is faster than copying data across aggregates when moving volumes.

* link:upgrade/upgrade-decide-to-use-this-guide.html[Nondisruptive procedure: Upgrade by moving volumes]
* link:upgrade/upgrade-decide-to-use-this-guide.html[Disruptive procedure: Upgrade by moving storage]


[NOTE]
====
*Note1*: The version difference between the original and new nodes cannot be greater than four. For example, ONTAP 9.8 and 9.12.1 is supported; however, ONTAP 9.8 and 9.13.1 is NOT supported. If required, https://docs.netapp.com/us-en/ontap/upgrade/index.html[upgrade the ONTAP version on the original nodes^].

*Note2*: Models with internal drives are listed below. If your system is not listed, see the https://hwu.netapp.com[NetApp Hardware Universe^] to check if it has internal drives. 

[cols=3*,options="header"]
|===
3+^|Models with internal drives
a|FAS2520, FAS2552, FAS2554, FAS2620, FAS2650, FAS2720, and FAS2750 
a|AFF A150, AFF A200, AFF A220, AFF A250, AFF A700s, and AFF A800
|AFF C190, AFF C250, and AFF C800 
|===

====

If you are upgrading a MetroCluster configuration, see https://docs.netapp.com/us-en/ontap-metrocluster/upgrade/concept_choosing_an_upgrade_method_mcc.html[Upgrade, refresh, or expand the MetroCluster configuration^].

If you are replacing an individual component, see the https://docs.netapp.com/us-en/ontap-systems/index.html[AFF and FAS System Documentation^] and locate the field-replaceable unit (FRU) flyer for that component.

